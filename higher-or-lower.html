<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Higher or Lower - STEPZ DEBATES</title>
    <style>
        /* --- FONT IMPORT --- */
        @import url('https://fonts.googleapis.com/css2?family=Poppins:wght@400;600;700&display=swap');

        /* --- GLOBAL STYLES & VARIABLES --- */
        :root {
            --background-color: #121212;
            --card-color: #1e1e1e;
            --primary-accent: #b328a4; /* Vibrant magenta/purple from logo */
            --text-color: #ffffff;
            --text-muted: #a0a0a0;
            --success-color: #28a745;
            --danger-color: #dc3545;
            --border-radius: 12px;
            --font-family: 'Poppins', sans-serif;
        }

        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
        }

        body {
            font-family: var(--font-family);
            background-color: var(--background-color);
            color: var(--text-color);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            padding: 20px;
        }

        /* --- MAIN GAME CONTAINER --- */
        .game-container {
            width: 100%;
            max-width: 400px;
            background-color: var(--card-color);
            border-radius: var(--border-radius);
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            padding: 30px;
            text-align: center;
            position: relative;
            overflow: hidden;
            border: 1px solid rgba(255, 255, 255, 0.1);
        }

        /* --- HEADER & LOGO --- */
        .header {
            display: flex;
            flex-direction: column;
            align-items: center;
            margin-bottom: 25px;
        }

        .logo {
            width: 80px;
            height: 80px;
            border-radius: 50%;
            margin-bottom: 15px;
            border: 2px solid var(--primary-accent);
        }

        .header h1 {
            font-size: 1.8rem;
            font-weight: 700;
            color: var(--text-color);
        }
        
        .header p {
            font-size: 0.9rem;
            color: var(--text-muted);
        }

        /* --- NUMBER DISPLAY --- */
        .number-display {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 20px;
            margin-bottom: 30px;
        }

        .card {
            width: 120px;
            height: 160px;
            perspective: 1000px;
        }
        
        .card-inner {
            position: relative;
            width: 100%;
            height: 100%;
            transition: transform 0.6s;
            transform-style: preserve-3d;
        }

        .card.flipped .card-inner {
            transform: rotateY(180deg);
        }
        
        .card-face {
            position: absolute;
            width: 100%;
            height: 100%;
            -webkit-backface-visibility: hidden;
            backface-visibility: hidden;
            display: flex;
            justify-content: center;
            align-items: center;
            border-radius: var(--border-radius);
            font-size: 3.5rem;
            font-weight: 700;
        }

        .card-face-front {
            background: linear-gradient(145deg, #2a2a2a, #161616);
            border: 1px solid rgba(255, 255, 255, 0.1);
            color: var(--text-muted);
        }

        .card-face-back {
            background: linear-gradient(145deg, #3c3c3c, #222222);
            border: 1px solid rgba(255, 255, 255, 0.2);
            transform: rotateY(180deg);
        }
        
        .card-current .card-face-front {
             background: linear-gradient(145deg, #3c3c3c, #222222);
        }

        /* --- GAME CONTROLS --- */
        .controls, .continue-controls {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .btn {
            border: none;
            border-radius: 8px;
            padding: 15px 20px;
            font-size: 1.1rem;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.2s ease;
            width: 140px;
            font-family: var(--font-family);
        }

        .btn:disabled {
            cursor: not-allowed;
            opacity: 0.5;
        }
        
        .btn-higher {
            background-color: var(--success-color);
            color: white;
            box-shadow: 0 4px 15px -5px var(--success-color);
        }
        
        .btn-lower {
            background-color: var(--danger-color);
            color: white;
            box-shadow: 0 4px 15px -5px var(--danger-color);
        }

        .btn-higher:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 6px 20px -5px var(--success-color); }
        .btn-lower:hover:not(:disabled) { transform: translateY(-3px); box-shadow: 0 6px 20px -5px var(--danger-color); }

        .btn-continue {
            background-color: var(--primary-accent);
            color: white;
        }
        
        .btn-take-win {
            background-color: transparent;
            color: var(--text-color);
            border: 2px solid var(--primary-accent);
        }

        /* --- STREAK INFO --- */
        .info {
            font-size: 1rem;
            color: var(--text-muted);
        }

        #streak-counter {
            font-weight: 700;
            color: var(--primary-accent);
            font-size: 1.2rem;
        }

        /* --- OVERLAYS --- */
        .overlay {
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            height: 100%;
            background-color: rgba(18, 18, 18, 0.95);
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            opacity: 0;
            visibility: hidden;
            transition: opacity 0.4s ease, visibility 0.4s ease;
            z-index: 10;
        }

        .overlay.active {
            opacity: 1;
            visibility: visible;
        }

        .overlay h2 {
            font-size: 2.5rem;
            margin-bottom: 10px;
        }

        .overlay p {
            font-size: 1.1rem;
            color: var(--text-muted);
            margin-bottom: 25px;
        }
        
        #game-over-title { color: var(--danger-color); }
        #win-title { color: var(--success-color); }

        .btn-restart {
            background-color: var(--primary-accent);
            color: white;
            padding: 15px 30px;
            font-size: 1.2rem;
            box-shadow: 0 4px 15px -5px var(--primary-accent);
        }
        .btn-restart:hover { transform: translateY(-3px); box-shadow: 0 6px 20px -5px var(--primary-accent); }

    </style>
</head>
<body>

    <div class="game-container">
        
        <div class="header">
            <img src="logo.jpeg" alt="STEPZ DEBATES Logo" class="logo">
            <h1>Higher or Lower</h1>
            <p>Predict the next number!</p>
        </div>

        <div class="number-display">
            <div class="card card-current">
                 <div class="card-inner">
                    <div class="card-face card-face-front" id="current-number-display">50</div>
                </div>
            </div>

            <div class="card" id="next-card">
                <div class="card-inner">
                    <div class="card-face card-face-front">?</div>
                    <div class="card-face card-face-back" id="next-number-display"></div>
                </div>
            </div>
        </div>
        
        <div class="controls" id="player-controls">
            <button class="btn btn-higher" id="higher-btn">Higher</button>
            <button class="btn btn-lower" id="lower-btn">Lower</button>
        </div>
        
        <div class="continue-controls" id="continue-controls" style="display: none;">
            <button class="btn btn-continue" id="continue-btn">Continue</button>
            <button class="btn btn-take-win" id="take-win-btn">Take Win</button>
        </div>

        <div class="info">
            Current Streak: <span id="streak-counter">0</span>
        </div>

        <div class="overlay active" id="start-overlay">
            <h2>Welcome!</h2>
            <p>Guess if the next number will be higher or lower than the current one.</p>
            <button class="btn btn-restart" id="start-btn">Start Game</button>
        </div>

        <div class="overlay" id="game-over-overlay">
            <h2 id="game-over-title">GAME OVER</h2>
            <p>Your final streak was <span id="final-streak-lost">0</span>.</p>
            <button class="btn btn-restart" id="restart-btn-lost">Play Again</button>
        </div>
        
        <div class="overlay" id="win-overlay">
            <h2 id="win-title">YOU WON!</h2>
            <p>You finished with a streak of <span id="final-streak-won">0</span>.</p>
            <button class="btn btn-restart" id="restart-btn-won">Play Again</button>
        </div>

    </div>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
            // --- CONFIGURATION ---
            const MIN_NUMBER = 1;
            const MAX_NUMBER = 100;

            // --- DOM ELEMENTS ---
            const currentNumberDisplay = document.getElementById('current-number-display');
            const nextNumberDisplay = document.getElementById('next-number-display');
            const nextCard = document.getElementById('next-card');
            
            const higherBtn = document.getElementById('higher-btn');
            const lowerBtn = document.getElementById('lower-btn');
            const continueBtn = document.getElementById('continue-btn');
            const takeWinBtn = document.getElementById('take-win-btn');

            const playerControls = document.getElementById('player-controls');
            const continueControls = document.getElementById('continue-controls');

            const streakCounter = document.getElementById('streak-counter');
            
            const startOverlay = document.getElementById('start-overlay');
            const gameOverOverlay = document.getElementById('game-over-overlay');
            const winOverlay = document.getElementById('win-overlay');

            const startBtn = document.getElementById('start-btn');
            const restartBtnLost = document.getElementById('restart-btn-lost');
            const restartBtnWon = document.getElementById('restart-btn-won');
            
            const finalStreakLost = document.getElementById('final-streak-lost');
            const finalStreakWon = document.getElementById('final-streak-won');
            
            // --- GAME STATE ---
            let currentNumber;
            let nextNumber;
            let streak = 0;
            let isRoundInProgress = false;

            // --- GAME LOGIC FUNCTIONS ---

            const generateUniqueNumber = (exclude) => {
                let newNum;
                do {
                    newNum = Math.floor(Math.random() * (MAX_NUMBER - MIN_NUMBER + 1)) + MIN_NUMBER;
                } while (newNum === exclude);
                return newNum;
            };

            const startGame = () => {
                // Reset overlays
                startOverlay.classList.remove('active');
                gameOverOverlay.classList.remove('active');
                winOverlay.classList.remove('active');
                
                // Reset game state
                streak = 0;
                streakCounter.textContent = streak;
                isRoundInProgress = false;
                
                // Reset card
                nextCard.classList.remove('flipped');

                // Generate first number
                currentNumber = generateUniqueNumber(-1); // No number to exclude initially
                currentNumberDisplay.textContent = currentNumber;
                nextNumberDisplay.textContent = '';
                
                // Show correct controls
                showPlayerControls();
            };

            const handleGuess = (guess) => {
                if (isRoundInProgress) return;
                isRoundInProgress = true;
                
                // Generate the next number
                nextNumber = generateUniqueNumber(currentNumber);
                nextNumberDisplay.textContent = nextNumber;

                // Flip the card to reveal the number
                nextCard.classList.add('flipped');
                
                // Determine the correct outcome
                const isHigher = nextNumber > currentNumber;
                const isCorrect = (guess === 'higher' && isHigher) || (guess === 'lower' && !isHigher);

                // Wait for the animation to finish before showing result
                setTimeout(() => {
                    if (isCorrect) {
                        streak++;
                        streakCounter.textContent = streak;
                        nextNumberDisplay.style.color = 'var(--success-color)';
                        showContinueControls();
                    } else {
                        nextNumberDisplay.style.color = 'var(--danger-color)';
                        gameOver();
                    }
                }, 800); // slightly longer than animation
            };
            
            const handleContinue = () => {
                // Set the revealed number as the new current number
                currentNumber = nextNumber;
                currentNumberDisplay.textContent = currentNumber;

                // Reset the next card for the next round
                nextCard.classList.remove('flipped');
                nextNumberDisplay.style.color = 'var(--text-color)'; // Reset color
                isRoundInProgress = false;
                
                // Show the guess buttons again
                showPlayerControls();
            };

            const takeWin = () => {
                finalStreakWon.textContent = streak;
                winOverlay.classList.add('active');
            };

            const gameOver = () => {
                finalStreakLost.textContent = streak;
                gameOverOverlay.classList.add('active');
            };

            // --- UI CONTROL FUNCTIONS ---

            const showPlayerControls = () => {
                playerControls.style.display = 'flex';
                continueControls.style.display = 'none';
                higherBtn.disabled = false;
                lowerBtn.disabled = false;
            };

            const showContinueControls = () => {
                playerControls.style.display = 'none';
                continueControls.style.display = 'flex';
                higherBtn.disabled = true;
                lowerBtn.disabled = true;
            };


            // --- EVENT LISTENERS ---
            startBtn.addEventListener('click', startGame);
            restartBtnLost.addEventListener('click', startGame);
            restartBtnWon.addEventListener('click', startGame);

            higherBtn.addEventListener('click', () => handleGuess('higher'));
            lowerBtn.addEventListener('click', () => handleGuess('lower'));
            
            continueBtn.addEventListener('click', handleContinue);
            takeWinBtn.addEventListener('click', takeWin);
        });
    </script>
</body>
</html>